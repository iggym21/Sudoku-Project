import pygame
import sys

def main():
    pygame.init()
    screen = pygame.display.set_mode((600, 600))
    pygame.display.set_caption("Sudoku")
    clock = pygame.time.Clock()
    running = True
    difficulty = 30  # Change to 40 or 50 for medium or hard
    board = Board(600, 600, screen, difficulty)

    while running:
        for event in pygame.event.get():
            if event.type == pygame.QUIT:
                pygame.quit()
                sys.exit()

            if event.type == pygame.MOUSEBUTTONDOWN:
                pos = pygame.mouse.get_pos()
                clicked_cell = board.click(pos[0], pos[1])
                if clicked_cell:
                    board.select(*clicked_cell)

            if event.type == pygame.KEYDOWN:
                if board.selected_cell:
                    row, col = board.selected_cell
                    if event.key == pygame.K_RETURN:
                        if board.cells[row][col].sketched_value != 0:
                            board.place_number(board.cells[row][col].sketched_value)
                    elif event.key == pygame.K_BACKSPACE:
                        board.clear()
                    elif pygame.K_1 <= event.key <= pygame.K_9:
                        board.sketch(event.key - pygame.K_0)

        screen.fill((255, 255, 255))  # White background
        board.draw()
        pygame.display.flip()
        clock.tick(60)

if __name__ == "__main__":
    main()
